<!-- Show a message until the data is loaded -->
<div *ngIf="isLoading" class="text-center">
  <p>Loading details...</p>
</div>

<!-- Show the crop details if the data is loaded -->
<div *ngIf="!isLoading && !crop" class="text-center text-red-500">
  <p> Could not load crop details. Please try again.</p>
</div>


<div *ngIf="!isLoading && crop">

  <!-- Back button -->
  <div class="mb-6">
    <a routerLink="/" class="text-blue-600 hover:underline">&larr; Back to Crop List</a>
  </div>


  <!-- Image Carousel -->
  <div class="h-64 bg-gray-300 rounded-lg mb-8 flex items-center justify-center">
    <p>Image Carousel will be here</p>
  </div>


  <!-- Crop Details -->
  <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg">
    <div class="border-b pb-4 mb-6">
        <h1 class="text-4xl font-bold text-green-800">{{ crop.name }}</h1>
        <p class="text-lg text-gray-600 mt-2">
            <strong>Sowing Season:</strong> {{ crop.sowingSeason }} | <strong>Growth Duration:</strong> {{ crop.growthDuration }}
        </p>
    </div>
  </div>


  <!-- Developmental stages -->
  <div *ngIf="crop.growthStages && crop.growthStages.length > 0" class="mt-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Growth Stages</h2>
    <ul class="list-disc list-inside space-y-3 text-gray-700">
        <li *ngFor="let stage of crop.growthStages">
            <span class="font-semibold">{{ stage.stageName }}:</span> {{ stage.durationDays }}
        </li>
    </ul>
  </div>


  <!-- Crop Diseases -->
  <div *ngIf="crop.diseases && crop.diseases.length > 0" class="mt-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Disease Management</h2>
    <div class="space-y-6">
        <div *ngFor="let disease of crop.diseases" class="border rounded-lg p-4 bg-gray-50">
            <h3 class="text-xl font-bold text-red-700">{{ disease.diseaseName }}</h3>
            <p class="mt-3 text-sm"><strong>Symptoms:</strong> {{ disease.symptoms }}</p>
            <p class="mt-2 text-sm"><strong>Causes:</strong> {{ disease.causes.join(', ') }}</p>
        </div>
    </div>
  </div>


  <!-- Fertilizers -->
  <div *ngIf="crop.fertilizerRecommendation && (crop.fertilizerRecommendation.general?.length > 0 || crop.fertilizerRecommendation.organic?.length > 0)" class="mt-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Fertilizer Recommendation</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        
        <!-- General Fertilizers -->
        <div *ngIf="crop.fertilizerRecommendation.general?.length > 0">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">General</h3>
            <ul class="list-disc list-inside space-y-2">
                <li *ngFor="let fert of crop.fertilizerRecommendation.general">
                    <strong>{{ fert.fertilizer }}:</strong> {{ fert.quantityPerAcre }}
                </li>
            </ul>
        </div>

        <!-- Organic Fertilizers -->
        <div *ngIf="crop.fertilizerRecommendation.organic?.length > 0">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Organic</h3>
            <ul class="list-disc list-inside space-y-2">
                <li *ngFor="let fert of crop.fertilizerRecommendation.organic">
                    <strong>{{ fert.name }}:</strong> {{ fert.quantityPerAcre }}
                </li>
            </ul>
        </div>

    </div>
  </div>


</div>